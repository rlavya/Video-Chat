<app-header></app-header>
<div class="main-wrapper">
  <section class="chat-username-wrapper">
    <img class="profile-picture" src="/assets/images/defaultuser.png">
    <span class="chat-username">Name</span>
    <a routerLink="/userList" class="button">Back</a>
    <img src="/assets/images/videochat.png" class="videocall-img">
    <router-outlet></router-outlet>
  </section>
  <section class="chat" #focusToLastMsg>
    <ol>
      <li *ngFor="let chat of chats">
        <div *ngIf="(chat.userid == userid && chat.chattingwith == chatUserId) || (chat.chattingwith == userid && chat.userid == chatUserId)">
          <div *ngIf="chat.userid != userid" class="user-chat chat-wrapper">
              <div class="user-image"><img src="{{ chat.image }}"></div>
              <div class="msg">
                <p>{{ chat.msg }}</p>
              </div>
          </div>
          <div *ngIf="chat.userid == userid" class="self-chat chat-wrapper">
              <div class="user-image"><img src="{{ chat.image }}"></div>
              <div class="msg">
                <p>{{ chat.msg }}</p>
              </div>
          </div>
        </div>
      </li>
    </ol>
    <div class="chat-box-wrapper">
      <textarea class="chat-box" type="text" placeholder="Type here!" [(ngModel)]="messageText" rows="3"></textarea>
      <button class="chat-send" (click)="sendMessage()">Send</button>
    </div>
  </section>
</div>
